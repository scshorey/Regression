# You can implement step definitions for undefined steps with these snippets:

Given(/^I am on Config$/) do
  @browser.goto "https://config.consumertrack.com"
end

When(/^I enter my username$/) do
  # binding.pry
  @browser.textarea(:id => 'username').when_present.set('sshorey')
end

When(/^I enter my password$/) do
  @browser.textarea(:id => 'password').set('sshorey') 
end

When(/^I click submit to login$/) do
  @browser.button(:type => 'submit').click 
end

When(/^I enter "([^"]*)" in the search bar$/) do |sierra|
  @browser.text_field(:placeholder => 'Search').when_present.set(sierra) # Write code here that turns the phrase above into concrete actions
end

sleep 3

When(/^I click the search button$/) do
  @browser.send_keys :return
 #@browser.button(:type => 'submit').when_present.click # Write code here that turns the phrase above into concrete actions
end

When(/^I click "([^"]*)"$/) do |name|
  #@browser.send_keys :return
   @browser.link(:href => "https://config.consumertrack.com/campaigns/create?company=301").when_present.click
end

When(/^I enter "([^"]*)" into the name field$/) do |arg1|
  @browser.text_area(:id => 'campaign_name').set('SBTC - Regression - Campaign Create - Date') # Write code here that turns the phrase above into concrete actions
end

When(/^I select "([^"]*)" from the Vertical drop down$/) do |arg1|
  @browser.select_list(:name => 'campaign[vertical]').select('creditscore') # Write code here that turns the phrase above into concrete actions
end

When(/^I select "([^"]*)" from the Offer drop down$/) do |arg1|
  @browser.select_list(:name => 'campaign[offer]').select('TU Primary OT Secondary') # Write code here that turns the phrase above into concrete actions
end

When(/^I select "([^"]*)" from the Domain drop down$/) do |arg1|
  @browser.select_list(:name => 'campaign[domain]').select('gofreecredit.com') # Write code here that turns the phrase above into concrete actions
end

When(/^I select "([^"]*)" from the Billing method drop down$/) do |arg1|
  @browser.select_list(:name => 'campaign[billingMethod]').select('CPA') # Write code here that turns the phrase above into concrete actions
end

When(/^I select "([^"]*)" from the Channel drop down$/) do |arg1|
  @browser.select_list(:name => 'campaign[channel]').select('Thank You/Exit Traffic') # Write code here that turns the phrase above into concrete actions
end

# may break here, drop downs are indexed? name contains [0] for first one
When(/^I select "([^"]*)" from the Landing Page Group drop down$/) do |arg1|
  @browser.select_list(:name => 'campaign[pageGroups][0][pageGroupInfo]').select('gfc-index') # Write code here that turns the phrase above into concrete actions
end

When(/^I select "([^"]*)" from the Backend Page Group drop down$/) do |arg1|
  @browser.select_list(:name => 'campaign[pageGroups][1][pageGroupInfo').select('tu01') # Write code here that turns the phrase above into concrete actions
end

When(/^I select "([^"]*)"$/) do |arg1|
  @browser.button(:type => 'submit').click # Write code here that turns the phrase above into concrete actions
end

Then(/^I should see "([^"]*)"$/) do |arg1|
   @browser.text.should include "Successfully saved campaign"
end

